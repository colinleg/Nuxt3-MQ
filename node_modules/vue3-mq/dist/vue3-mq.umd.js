var ye=Object.defineProperty;var z=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var K=(i,r,d)=>r in i?ye(i,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[r]=d,Q=(i,r)=>{for(var d in r||(r={}))ge.call(r,d)&&K(i,d,r[d]);if(z)for(var d of z(r))ve.call(r,d)&&K(i,d,r[d]);return i};(function(i,r){typeof exports=="object"&&typeof module!="undefined"?r(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],r):(i=typeof globalThis!="undefined"?globalThis:i||self,r(i.Vue3Mq={},i.Vue))})(this,function(i,r){"use strict";const d=r.ref([]),b=r.ref(null),V=r.ref(null),B=r.ref(null),S=r.ref(null),l=r.reactive({current:""}),k=[],N=r.ref(!1),p=r.readonly(d),C=r.readonly(b),Y=r.readonly(V),Z=r.readonly(B),F=r.readonly(S),f=r.readonly(l),G=e=>{d.value=e},J=e=>{b.value=e},H=e=>{V.value=e},U=e=>{B.value=e},W=e=>{S.value=e},x=(e=C.value)=>{l.current=e;const n=p.value.findIndex(t=>t.name===e),o=p.value.map(t=>t.name);for(let t=0;t<o.length;t++){if(t>0&&t<o.length-1){const a=o[t]+"Minus",s=o[t]+"Plus";l[a]=n<=t,l[s]=n>=t}l[o[t]]=o[t]===e}},X=()=>{const e=Object.keys(l);for(let n of e)delete l[n];x(),$(),R(),O()},$=(e=Y.value)=>{l.orientation=e,l.isLandscape=e==="landscape",l.isPortrait=e==="portrait"},R=(e=Z.value||"light")=>{l.theme=e,l.isDark=e==="dark",l.isLight=e==="light"},O=(e=F.value||"no-preference")=>{l.motionPreference=e,l.isMotion=e==="no-preference",l.isInert=e==="reduce"};function ee(){for(;k.length>0;){const e=k.shift();if(e&&typeof e=="object"){const{mql:n,cb:o}=e;n.addEventListener&&typeof n.addEventListener=="function"?n.removeEventListener("change",o):n.removeListener(o)}}}function te(){return p.value.reduce((n,o,t,a)=>{const s=`(min-width: ${o.min}px)`,u=t<a.length-1?`(max-width: ${a[t+1].min-1}px)`:null,c=s+(u?" and "+u:"");return Object.assign(n,{[o.name]:c})},{})}function g(e,n){if(typeof window=="undefined"||!window.matchMedia)return!1;if(typeof window!="undefined"&&!window.matchMedia)return console.error("Vue3 Mq: No MatchMedia support detected in this browser. Responsive breakpoints not available."),!1;{N.value=!0;const o=window.matchMedia(e),t=({matches:s})=>{s&&n()};k.push({mql:o,cb:t}),o.addEventListener&&typeof o.addEventListener=="function"?o.addEventListener("change",t):o.addListener(t),t(o)}}const m=e=>p.value.some(n=>n.name===e),I=(e,n)=>{const o=n.value.map(t=>t.name);if(e){if(Array.isArray(e))return e.filter(t=>m(t));if(typeof e=="string"&&/\w+\+$/.test(e)){if(e=e.replace(/\+$/,""),m(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),o;const t=n.value.findIndex(a=>a.name===e);return n.value.slice(t).map(a=>a.name)}else if(typeof e=="string"&&/\w+-$/.test(e)){if(e=e.replace(/-$/,""),m(e)===!1)return console.error(`Vue3 Mq: ${e} is not a valid breakpoint key. Invalid range.`),o;const t=n.value.findIndex(a=>a.name===e);return n.value.slice(0,t+1).map(a=>a.name)}else if(typeof e=="string"&&/^\w+-\w+$/.test(e)){const[t,a]=e.split("-");if(m(t)===!1)return console.error(`Vue3 Mq: ${t} is not a valid breakpoint key. Invalid range.`),o;if(m(a)===!1)return console.error(`Vue3 Mq: ${a} is not a valid breakpoint key. Invalid range.`),o;const s=n.value.findIndex(c=>c.name===t),u=n.value.findIndex(c=>c.name===a);return n.value.slice(s,u+1).map(c=>c.name)}else return typeof e=="string"&&m(e)===!0?[e]:o}else return o},E=(e,n)=>{const o=[];return!e&&!n?["landscape","portrait"]:(e&&o.push("landscape"),n&&o.push("portrait"),o)},L=(e,n)=>{const o=[];return!n&&!e?["light","dark"]:(n&&o.push("light"),e&&o.push("dark"),o)},_=(e,n)=>{const o=[];return!e&&!n?["reduce","no-preference"]:(e&&o.push("reduce"),n&&o.push("no-preference"),o)};var M=Object.freeze(Object.defineProperty({__proto__:null,bootstrap5:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},bootstrap4:{xs:0,sm:576,md:768,lg:992,xl:1200},bootstrap3:{xs:0,sm:768,md:992,lg:1200},vuetify:{xs:0,sm:600,md:960,lg:1264,xl:1904},tailwind:{xs:0,sm:640,md:768,lg:1024,xl:1280,xxl:1536},devices:{phone:0,tablet:768,laptop:1370,desktop:1906},wordpress:{mobile:0,small:600,medium:782,large:960,xlarge:1080,wide:1280,huge:1440}},Symbol.toStringTag,{value:"Module"}));const ne=e=>{if(typeof e=="string"&&M[e])return M[e];{const n=Object.keys(M);return console.error(`Vue3 Mq: "${e}" is not a valid preset. Available options are: ${n.join(", ")}`),!1}},oe=e=>["landscape","portrait"].includes(e)===!1?(console.error(`Vue3 Mq: "${e}" is not a valid default orientation. Reverting to unset value.`),null):e,re=(e=null)=>["dark","light"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default theme. Reverting to unset value.`),null):e,ae=(e=null)=>["no-preference","reduce"].includes(e)===!1&&e!==null?(console.error(`Vue3 Mq: "${e}" is not a valid default motion preference. Reverting to unset value.`),null):e,j=e=>{if(!e||typeof e!="object")return!1;const n=[];for(let a in e){const s=parseFloat(e[a]);if(!a||typeof a!="string"){console.warn(`Vue3 Mq: Invalid or missing breakpoint key (${JSON.stringify(a)}). Skipping.`);continue}else if(/^[^a-z]/i.test(a)||/[^a-zA-Z0-9_]/.test(a)){console.warn(`Vue3 Mq: "${a}" is an invalid breakpoint key. Breakpoint keys must start with a letter and contain only alphanumeric characters and underscores. Skipping.`);continue}else if(!s&&s!==0||isNaN(s)||s<0){console.warn(`Vue3 Mq: "${a}: ${e[a]}" is not a valid breakpoint. Breakpoints should be a number of zero or above. Skipping.`);continue}n.push({name:a,min:s})}return n.some(a=>a.min===0)||console.warn("Vue3 Mq: You have not declared a breakpoint with a minimum value of 0. There may be screen sizes to which Vue3Mq does not respond."),new Set(n.map(a=>a.min)).size<n.length&&console.warn("Vue3 Mq: Your breakpoint configuration contains duplicate values. Behaviour may be unpredictable."),n.length===0?!1:n.sort((a,s)=>a.min-s.min)},se=e=>{const n=e.split(":"),o={};for(let t of n)/\D/.test(t)!==!1&&(["landscape","portrait"].includes(t)?o.slotOrientation=t:["light","dark"].includes(t)?o.slotTheme=t:["inert","motion"].includes(t)?o.slotMotion=t:o.slotBp=t);return o},ie={name:"fade",mode:"out-in"};var le={name:"MqResponsive",props:{target:[String,Array],landscape:{type:Boolean,default:!1},portrait:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},light:{type:Boolean,default:!1},inert:{type:Boolean,default:!1},motion:{type:Boolean,default:!1},tag:{type:String,default:"div"},listTag:{type:String,default:"div"},group:{type:Boolean,default:!1}},setup(e,{attrs:n,emit:o,slots:t}){const a=r.computed(()=>I(e.target,p)),s=r.computed(()=>E(e.landscape,e.portrait)),u=r.computed(()=>L(e.dark,e.light)),c=r.computed(()=>_(e.inert,e.motion)),q=r.computed(()=>a.value.includes(f.current)&&s.value.includes(f.orientation)&&u.value.includes(f.theme)&&c.value.includes(f.motionPreference)),T=h=>{if(!e.group&&t.length>0)return t;const y=[];for(let v in t){const{slotBp:de,slotOrientation:P,slotTheme:A,slotMotion:D}=se(v),fe=r.computed(()=>I(de,p)),pe=r.computed(()=>E(P==="landscape",P==="portrait")),me=r.computed(()=>L(A==="dark",A==="light")),he=r.computed(()=>_(D==="inert",D==="motion"));r.computed(()=>fe.value.includes(f.current)&&pe.value.includes(f.orientation)&&me.value.includes(f.theme)&&he.value.includes(f.motionPreference)).value===!0&&y.push(r.h(h||t[v],{key:v},h?t[v]():void 0))}return y.length>0?y:void 0};return t.default?()=>q.value?r.h(e.tag,Q({},n),t.default()):void 0:()=>{const h=Object.assign({},ie,n,{tag:e.tag}),y=e.group?r.TransitionGroup:r.Transition;return r.h(y,h,()=>T(e.listTag))}}};function w({breakpoints:e,preset:n}){const o=ne(n),t=j(e);if(o===!1&&!t)throw new TypeError("Vue3 Mq: You must provide a valid preset, or valid breakpoint settings.");G(t||j(o)),ee(),X();const a=te();for(const s in a){const u=a[s];g(u,()=>{x(s)})}["portrait","landscape"].forEach(s=>{const u=()=>{$(s)};g(`(orientation: ${s})`,u)}),["light","dark"].forEach(s=>{const u=()=>{R(s)};g(`(prefers-color-scheme: ${s})`,u)}),["reduce","no-preference"].forEach(s=>{const u=()=>{O(s)};g(`(prefers-reduced-motion: ${s})`,u)})}function ue(){const e=r.inject("mq");if(e)return e;throw new Error("Vue3Mq is not installed in this app. Please follow the installation instructions and try again.")}var ce={install:(e,{preset:n="bootstrap5",breakpoints:o,defaultBreakpoint:t,defaultOrientation:a="landscape",defaultMotion:s="no-preference",defaultTheme:u}={})=>{try{const c=oe(a),q=re(u),T=ae(s);J(t),H(c),U(q),W(T),e.provide("mq",f),e.provide("updateBreakpoints",w),w({breakpoints:o,preset:n})}catch(c){console.error(c)}}};i.MqResponsive=le,i.Vue3Mq=ce,i.availableBreakpoints=p,i.updateBreakpoints=w,i.useMq=ue,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
